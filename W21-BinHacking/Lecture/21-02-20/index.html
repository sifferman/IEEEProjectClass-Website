<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>IEEE BinHacking 5 - Wave</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <base target="_blank">

    <link rel="stylesheet" href="/_styles/site.css">
    <link rel="stylesheet" href="/_styles/W21-BinHacking.css">
    <link rel="stylesheet" href="/_styles/lectures.css">

    <!-- codemirror -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js" integrity="sha512-xwrAU5yhWwdTvvmMNheFn9IyuDbl/Kyghz2J3wQRDR8tyNmT8ZIYOd0V3iPYY/g4XdNPy0n/g0NvqGu9f0fPJQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css" integrity="sha512-uf06llspW44/LZpHzHT6qBOIVODjWtv4MxCricRxkzvopAlSWnTf6hpZTFxuuZcuNE9CBQhqE0Seu1CoRk84nQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js" integrity="sha512-hVV7wKBA5Cy5BNo3JkDte8hAobbeXMF8ZTgmmVrshoxcBSSfXn3Z+sigvV6o7bbk6zHSEMWp8RxCbWyPIuPB6Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="/_scripts/init_codemirror.js" defer></script>

</head>

<body>
    <div id="_HEADER_" class="flex flex__row">

        <a id="Back" class="clickable" href="../../" target="_self">
            <img src="/_media/back.svg" alt="back">
        </a>

        <h1>
            Lecture 5 (02.20.21) - Wave File Format
        </h1>

    </div>
    <div id="_MAIN_">
        <div id="Squished">


            <div id="Table-of-Contents" class="bubble">
                <h1>Table of Contents</h1>
                <ul>
                    <li class="clickable"><a href="#Recording" target="_self">
                        Recorded Lecture
                    </a></li>
                    <li class="clickable"><a href="#To-Do" target="_self">
                        To Do
                    </a></li>
                    <li class="clickable"><a href="#C++" target="_self">
                        Setting Up a C++ Environment
                    </a></li>
                    <li class="clickable"><a href="#WaveFileFormat" target="_self">
                        Wave File Format
                    </a></li>
                    <li class="clickable"><a href="#Endianness" target="_self">
                        Endianness
                    </a></li>
                </ul>
            </div>


            <div id="Recording" class="center center-within">
                <h1>Recorded Lecture</h1>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/FYIm-QxF6lo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>

            <div id="To-Do" class="center">
                <h1>Finish These Before You Leave</h1>
                <ol>
                    <li>
                        Download the starter code for the Wave Parser.
                    </li>
                    <li>
                        Edit the Makefile according to your OS.
                    </li>
                    <li>
                        Set up your C++ environment.
                    </li>
                    <li>
                        Compile the starter code.
                    </li>
                </ol>
            </div>



            <div id="C++">
                <h1>Setting Up a C++ Environment</h1>
                <h2>Unix</h2>
                <p>
                    If you are on a Unix OS like MacOS or Linux, this will be very easy. Just follow this tutorial.
                </p>
                <div class="clickable external-link center"><a href="http://sites.cs.ucsb.edu/~zsisco/cs16/lab1.html#option-1-install-c-compiler-locally" target="_blank" rel="noopener noreferrer">
                    UCSB C++ Installation Tutorial
                </a></div>
                <h2>Windows</h2>
                <p>
                    If you are on Windows, it will be a bit harder:
                </p>
                <ol>
                    <li class="clickable external-link"><a href="https://git-scm.com/download/" target="_blank" rel="noopener noreferrer">
                        Install Git Bash
                    </a></li>
                    <li class="clickable external-link"><a href="http://mingw-w64.org/doku.php/download/mingw-builds" target="_blank" rel="noopener noreferrer">
                        Install MinGW
                    </a></li>
                    <li class="clickable external-link"><a href="https://stackoverflow.com/questions/36770716/mingw64-make-build-error-bash-make-command-not-found" target="_blank" rel="noopener noreferrer">
                        Install <code>make</code>
                    </a></li>
                </ol>
                <p>
                    Now open Bash. You should be able to run <code>$ g++</code> and <code>$ make</code>. Test both commands and debug as needed.
                </p>

                <div class="bubble center center-within">
                    <h1>Wave Parser Code</h1>
                    <ul>
                        <li class="clickable download"><a href="/W21-BinHacking/Wave-Parser_starter.zip" download>
                            Starter
                        </a></li>
                        <li class="clickable external-link"><a href="https://github.com/E4tHam/Wave-Parser/tree/bed2910cbaa257de08bf340a74896bbe5c9654d2" target="_blank" rel="noopener noreferrer">
                            My Solution
                        </a></li>
                    </ul>
                    <p>
                        To compile the code, just run <br>
                        <code>$ make</code>
                    </p>
                    <p>
                        If you are on Windows and do not have <code>make</code> installed, you can use this command: <br>
                        <code>$ g++ -o main main.cpp wave.cpp riff.cpp --std=c++11 -Wall -lws2_32</code>
                    </p>
                </div>
            </div>



            <div id="WaveFileFormat">
                <h1>Wave File Format</h1>
                <img class="center" src="/_media/W21-BinHacking/21-02-20/wav-sound-format.gif" alt="Wave File Format">
                <div class="clickable external-link center"><a href="http://soundfile.sapp.org/doc/WaveFormat/" target="_blank" rel="noopener noreferrer">WAVE PCM soundfile format</a></div>
            </div>



            <div id="Endianness">
                <h1>Endianness</h1>
                <p>
                    Some computers store numbers in reverse order than one would expect. Observe the diagrams:
                </p>
                <div class="flex flex__column">
                    <img src="/_media/W21-BinHacking/21-02-20/endian.png" alt="Endian">
                    <img src="/_media/W21-BinHacking/21-02-20/endianpig.png" alt="Endian Pig">
                </div>
                <p>
                    There are pros and cons of using each encoding, however the biggest con is that no one can agree on a standard. Therefore, we must waste lots of energy converting between endians.
                </p>
                <p>
                    Fortunately, all operating systems provide the functions &ldquo;host to network&rdquo; and &ldquo;network to host&rdquo; (<code>hton()</code> and <code>ntoh()</code>). Since all network traffic must use big endian, we now have a guaranteed function that will always give us a big endian output. Then we can just swap the endian to get little endian, the encoding for Wave files.
                </p>
                <textarea class="code" mode="clike" src="endian.h" readonly></textarea>
            </div>


        </div>
        <br>
    </div>
</body>

</html>

